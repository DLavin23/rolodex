// Tooltips
// ========================================

.tooltip
  +rem(border, 2px solid $gray-light)
  @extend %border-radius-circle
  @extend %cursor-pointer
  @extend .display-inline-block
  +rem(height, 22px)
  @extend .position-relative
  @extend %vertical-align-middle
  +rem(width, 22px)

  &:after
    +background-svg("tooltips/tooltip-star", 10px)
    @extend %content-empty
    +rem(height, 10px)
    left: 50%
    @extend .position-absolute
    top: 50%
    transform: translateX(-50%) translateY(-50%)
    +rem(width, 10px)
  
  &:hover,
  &:focus
    border-color: $blue

    &:after
      +rem(background-position, 0 -10px)

  .form-group &
    +rem(margin-left, $grid-gutter-half)

.tooltip-push-down
  +rem(margin-top, 1px)
  
.tooltip-pull-up
  +rem(margin-top, -2px)

// Tip

.tooltip-tip,
.tooltip-header,
.tooltip-body
  @extend .display-inline-block

.tooltip-header,
.tooltip-body
  @extend .grid-1-1

.tooltip-tip
  @extend .box-overlay
  border-color: $gray-light // Specificity bust the extend
  @extend %cursor-default
  opacity: 0
  pointer-events: none
  @extend .position-absolute
  @extend %transition-all
  +rem(width, 300px)
  z-index: 9

  .tooltip:hover &
    opacity: 1
    pointer-events: auto

  &:before
    @extend %content-empty
    +rem(height, $baseline-step * 2)
    @extend .position-absolute
    +rem(width, 40px)

.tooltip-header
  +rem(border-bottom, 1px solid $gray-light)
  @extend .h-foxtrot
  +rem(padding, ($baseline-step + 3) 20px)
  @extend %text-center

.tooltip-body
  @extend %color-gray-dark
  +rem(padding, $baseline-smaller 20px)
  @extend .s-golf

  p:not(:last-child),
  .list-base li:not(:last-child)
    +rem(margin-bottom, $baseline-step)

// Positioning

.tooltip-top-right,
.tooltip-top,
.tooltip-top-left
  .tooltip-tip
    bottom: 100%
    +rem(margin-bottom, $baseline-step * 2)

    &:before
      +rem(bottom, ($baseline-step * -2) - 1)

.tooltip-bottom-right,
.tooltip-bottom,
.tooltip-bottom-left
  .tooltip-tip
    top: 100%
    +rem(margin-top, $baseline-step * 2)
    
    &:before
      +rem(top, ($baseline-step * -2) - 1)

.tooltip-top-right,
.tooltip-bottom-right
  .tooltip-tip:before
    +rem(left, -1px)

.tooltip-top .tooltip-tip,
.tooltip-top .tooltip-tip:before,
.tooltip-bottom .tooltip-tip,
.tooltip-bottom .tooltip-tip:before
  margin-left: 50%
  transform: translateX(-50%)

.tooltip-top-left,
.tooltip-bottom-left
  .tooltip-tip
    @extend .right-0

    &:before
      +rem(right, -1px)
